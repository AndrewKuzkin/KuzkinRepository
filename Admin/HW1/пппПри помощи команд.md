### 1. Топ 10 IP адресов с которых идут запросы

awk '{print $1}' access.log | sort | uniq -c | sort -nr | head -n 10

Вот листинг с моего терминала:
kuzkin@DESKTOP-KPR77P9:/mnt/c/itmo/admin$ awk '{print $1}' access.log | sort | uniq -c | sort -nr | head -n 10                                               
^[[B^[[B 353483 66.249.66.194                                                                                                                                
 314522 66.249.66.91                                                                                                                                         
  92475 151.239.241.163                                                                                                                                      
  88332 66.249.66.92                                                                                                                                         
  45979 91.99.30.32                                                                                                                                          
  42058 104.222.32.91                                                                                                                                        
  38694 91.99.72.15                                                                                                                                          
  38612 91.99.47.57                                                                                                                                          
  37204 5.78.190.233                                                                                                                                         
  27979 195.181.168.181                                                                                                                                      


### 2. Подсчет количества методов: POST, GET, PUT, DELETE, PATCH

awk '{print $3}' access.log | sort | uniq -c


Ответ: 10365150 -


### 3. Количество операционных систем с которых выполняются запросы (в порядке убывания)

Для этого нужно проанализировать строку User-Agent и выделить информацию об операционной системе:
awk -F\" '{print $6}' access.log | awk -F' ' '{print $1}' | grep -E "Windows|Mac|Linux|Unix" | sort | uniq -c | sort -nr


▎4. Самое популярное устройство по количеству сделанных запросов

Если предположить, что информация о устройстве также содержится в строке User-Agent, можно использовать следующую команду:

awk -F\" '{print $6}' access.log | awk -F' ' '{for(i=1;i<=NF;i++) if($i ~ /Mobile|Tablet|PC/) print $i}' | sort | uniq -c | sort -nr | head -n 1


▎5. Топ 5 популярных браузеров включая их версию

Для извлечения информации о браузерах из User-Agent:

awk -F\" '{print $6}' access.log | grep -oP '(?<=\().*?(?=\))' | sort | uniq -c | sort -nr | head -n 5

